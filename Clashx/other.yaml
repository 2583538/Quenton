# Eugene
# Update:2022.12
# ------------------
# 规则库：https://github.com/blackmatrix7/ios_rule_script/tree/master/rule/Clash
# ------------------

# HTTP 代理端口
port: 7890

# SOCKS5 代理端口
socks-port: 7891

# Linux 和 macOS 的 redir 代理端口 (如需使用此功能，请取消注释)
redir-port: 7892

# 允许局域网的连接（可用来共享代理）
allow-lan: false

# 规则模式：Global（全局代理）/ Rule（规则） / Script(腳本) / Direct（全局直连）
mode: Rule

# 设置日志输出级别 (默认级别：silent，即不输出任何内容，以避免因日志内容过大而导致程序内存溢出）。
# 5 个级别：silent / info / warning / error / debug。级别越高日志输出量越大，越倾向于调试，若需要请自行开启。
log-level: info

# clash 的 RESTful API
external-controller: '0.0.0.0:9090'


# 您可以将静态网页资源（如 clash-dashboard）放置在一个目录中，clash 将会服务于 `${API}/ui`
# 参数应填写配置目录的相对路径或绝对路径。
# external-ui: folder

# RESTful API 的口令 (可选)
secret: "hitun"

# DNS 设置

dns:
  enable: true
  ipv6: false
  listen: 127.0.0.1:8853
  enhanced-mode: fake-ip
 - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    - 119.29.29.29
    - 223.5.5.5
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - +.pool.ntp.org
    - time1.cloud.tencent.com
    - stun.*.*
    - stun.*.*.*
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - mesu.apple.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - localhost.ptlogin2.qq.com
    - msftconnecttest.com
    - "*.msftconnecttest.com"
    - msftncsi.com
    - "*.msftncsi.com"
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - +.wotgame.cn
    - +.wggames.cn
    - +.wowsgame.cn
    - +.wargaming.net
    - "*.*.*.srv.nintendo.net"
    - "*.*.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.*.xboxlive.com"
    - "*.ipv6.microsoft.com"
    - teredo.*.*.*
    - teredo.*.*
    - speedtest.cros.wr.pvp.net
    - +.jjvip8.com
    - www.douyu.com
    - activityapi.huya.com
    - activityapi.huya.com.w.cdngslb.com
    - www.bilibili.com
    - api.bilibili.com
    - a.w.bilicdn1.com
    - "*.ffxiv.com"
    - localhost.sec.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - xbox.*.microsoft.com
    - xnotify.xboxlive.com
    - +.battlenet.com.cn
    - proxy.golang.org
    - heartbeat.belkin.com
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.router.asus.com"
    - lens.l.google.com
    - stun.l.google.com
    - +.nflxvideo.net
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"

# 代理组策略
proxy-groups:
  - name: Proxy
    type: select
    use:
      - 海豚湾
    proxies:
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: MATCH
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Apple
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Amazon
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: China
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: GitHub
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Google
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Microsoft
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Netflix
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Steam
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Telegram
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: Twitter
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: YouTube
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: PayPal
    type: select
    proxies:
      - Proxy
      - HK
      - TW
      - SG
      - JP
      - US
      - DIRECT 

  - name: HK
    type: select
    use:
      - 海豚湾HK
    proxies:
      - DIRECT

  - name: TW
    type: select
    use:
      - 海豚湾TW
    proxies:
      - DIRECT

  - name: SG
    type: select
    use:
      - 海豚湾SG
    proxies:
      - DIRECT

  - name: JP
    type: select
    use:
      - 海豚湾JP
    proxies:
      - DIRECT

  - name: US
    type: select
    use:
      - 海豚湾US
    proxies:
      - DIRECT



proxy-providers:
  # 可多机场，下面以两机场为例：

  海豚湾:
  type: http
  url: https://subapi.rss-node.com/sub?target=clash&interval=129600&httpname=Hitun&url=https%3A%2F%2Frss-node.com%2Flink%2FmxJXLAphB4rCGCbs%3Fmu%3D1
  interval: 3600
  path: ./providers/海豚湾.yaml
  health-check:
  enable: true
  interval: 600
  lazy: true
  url: http://www.gstatic.com/generate_204

  海豚湾HK:
    type: file
    path: ./providers/海豚湾.yaml
    filter: '🇭🇰|HK|香港|港|Hongkong'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  海豚湾TW:
    type: file
    path: ./providers/海豚湾.yaml
    filter: '台|台湾|TW'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  海豚湾SG:
    type: file
    path: ./providers/海豚湾.yaml
    filter: '🇸🇬|狮城|新|新加坡|SG'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  海豚湾JP:
    type: file
    path: ./providers/海豚湾.yaml
    filter: '🇯🇵|日|日本|东京|大阪|泉日|埼玉|沪日|深日|JP'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  海豚湾US:
    type: file
    path: ./providers/海豚湾.yaml
    filter: '🇺🇸|美|美国|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US|us'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

# 分流规则  
rules:
  - RULE-SET,AdBlock,REJECT
  - RULE-SET,Apple,Apple
  - RULE-SET,Amazon,Amazon
  - RULE-SET,GitHub,GitHub
  - RULE-SET,Google,Google
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,Netflix,Netflix 
  - RULE-SET,Steam,Steam
  - RULE-SET,Telegram,Telegram 
  - RULE-SET,Twitter,Twitter 
  - RULE-SET,YouTube,YouTube 
  - RULE-SET,PayPal,PayPal
  - RULE-SET,Proxy,Proxy
  - DOMAIN-SUFFIX,live.cn,China
  - GEOIP,CN,DIRECT
  - MATCH,MATCH

rule-providers:
  AdBlock: {type: http, behavior: classical, path: ./Filter/AdBlock, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Advertising/Advertising_Classical.yaml, interval: 3600}
  Apple: {type: http, behavior: classical, path: ./Filter/Apple, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple.yaml, interval: 3600}
  Amazon: {type: http, behavior: classical, path: ./Filter/Amazon, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Amazon/Amazon.yaml, interval: 3600}
  China: {type: http, behavior: classical, path: ./Filter/China, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/China/China_Classical.yaml, interval: 3600}
  GitHub: {type: http, behavior: classical, path: ./Filter/GitHub, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml, interval: 3600}
  Google: {type: http, behavior: classical, path: ./Filter/Google, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml, interval: 3600}
  Microsoft: {type: http, behavior: classical, path: ./Filter/Microsoft, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml, interval: 3600}
  Netflix: {type: http, behavior: classical, path: ./Filter/Netflix, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix.yaml, interval: 3600} 
  Steam: {type: http, behavior: classical, path: ./Filter/Steam, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Steam/Steam.yaml, interval: 3600}
  Telegram: {type: http, behavior: classical, path: ./Filter/Telegram, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram.yaml, interval: 3600}
  Twitter: {type: http, behavior: classical, path: ./Filter/Twitter, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Twitter/Twitter.yaml, interval: 3600}
  YouTube: {type: http, behavior: classical, path: ./Filter/YouTube, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/YouTube/YouTube.yaml, interval: 3600}
  PayPal: {type: http, behavior: classical, path: ./Filter/PayPal, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/PayPal/PayPal.yaml, interval: 3600}
  Proxy: {type: http, behavior: classical, path: ./Filter/Proxy, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Proxy/Proxy_Classical.yaml, interval: 3600}
